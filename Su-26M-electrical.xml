<?xml version="1.0"?>
 
<!-- 28 Volt electrical system -->

<PropertyList>

  <!-- Supplier list -->

  <supplier>
    <name>Battery 1</name>
    <prop>/systems/electrical/suppliers/battery[0]</prop>
    <kind>battery</kind>
    <volts>28</volts> <!-- needs to be > 24.5, but this is a guess -->
    <amps>60</amps>   <!-- I have no idea! -->
  </supplier>

  <supplier>
    <name>Alternator 1</name>
    <prop>/systems/electrical/suppliers/alternator[0]</prop>
    <kind>alternator</kind>
    <rpm-source>/engines/engine[0]/rpm</rpm-source>
    <volts>28</volts> <!-- stubbed in -->
    <amps>60</amps>   <!-- from the 172S Skyhawk Information Manual -->
  </supplier>


  <!-- Bus list -->

  <bus>
    <name>Electrical Bus 1</name>
    <prop>/systems/electrical/outputs/bus[0]</prop>
  </bus>

  <bus>
    <name>Electrical Bus 2</name>
    <prop>/systems/electrical/outputs/bus[1]</prop>
  </bus>

  <bus>
    <name>Essential/Cross Feed Bus</name>
    <prop>/systems/electrical/outputs/bus-essential</prop>
  </bus>

  <bus>
    <name>Avionics Bus 1</name>
    <prop>/systems/electrical/outputs/bus-avionics[0]</prop>
 </bus>

  <bus>
    <name>Avionics Bus 2</name>
    <prop>/systems/electrical/outputs/bus-avionics[1]</prop>
  </bus>

  <bus>
    <!-- this is a fictitious entity replacing a more complex arrangement of relays -->
    <name>Virtual Bus 1</name>
  </bus>

  <!-- Specific Outputs -->

  <output>
    <name>Starter 1 Power</name>
    <prop>/systems/electrical/outputs/starter[0]</prop>
  </output>

  <!-- Electrical Bus 1 Outputs -->


  <output>
    <name>Instrument Power</name>
    <prop>/systems/electrical/outputs/instr-ignition-switch</prop>
  </output>

  <output>
    <name>Fuel Pump Power</name>
    <prop>/systems/electrical/outputs/fuel-pump</prop>
  </output>


  <!-- Electrical Bus 2 Outputs -->


 

  <!-- Essential/Cross Feed Bus Outputs -->

  <output>
    <name>Annunciator Power</name>
    <prop>/systems/electrical/outputs/annunciators</prop>
  </output>

  <!-- <output> -->
  <!--   <name>Master Switch Power</name> -->
  <!--   <prop>/systems/electrical/outputs/master-switch</prop> -->
  <!-- </output> -->

  <!-- Avionics Bus 1 -->


  <output>
    <name>GPS Power</name>
    <prop>/systems/electrical/outputs/gps</prop>
  </output>

  <output>
    <name>NavCom 1 Power</name>
    <prop>/systems/electrical/outputs/nav[0]</prop>
  </output>

  <output>
    <name>Audio Panel 1 Power</name>
    <prop>/systems/electrical/outputs/audio-panel[0]</prop>
  </output>

  <!-- Avionics Bus 2 -->

  <output>
    <name>NavCom 2 Power</name>
    <prop>/systems/electrical/outputs/nav[1]</prop>
  </output>

  <output>
    <name>Audio Panel 2 Power</name>
    <prop>/systems/electrical/outputs/audio-panel[1]</prop>
  </output>


  <!-- connect in power sources -->

  <connector>
    <input>Alternator 1</input>
    <output>Virtual Bus 1</output>
    <switch>
      <prop>/controls/engines/engine[0]/master-alt</prop>
    </switch>
  </connector>


  <connector>
    <input>Battery 1</input>
    <output>Virtual Bus 1</output>
    <switch>
      <prop>/controls/engines/engine[0]/master-bat</prop>
    </switch>
  </connector>

  <!-- connect starter output -->

  <connector>
    <input>Virtual Bus 1</input>
    <output>Starter 1 Power</output>
    <switch>
      <prop>/controls/engines/engine[0]/starter</prop>
      <initial-state>off</initial-state>
    </switch>
  </connector>

  <!-- connect bus 1 & 2 -->

  <connector>
    <input>Virtual Bus 1</input>
    <output>Electrical Bus 1</output>
    <switch>
      <prop>/controls/circuit-breakers/bus1</prop>
    </switch>
  </connector>

  <connector>
    <input>Virtual Bus 1</input>
    <output>Electrical Bus 2</output>
    <switch>
      <prop>/controls/circuit-breakers/bus2</prop>
    </switch>
  </connector>

  <!-- connect the essential / cross feed bus -->

  <connector>
    <input>Electrical Bus 1</input>
    <input>Electrical Bus 2</input>
    <output>Essential/Cross Feed Bus</output>
  </connector>

  <!-- connect avionics bus 1 & 2 -->

  <connector>
    <input>Electrical Bus 1</input>
    <output>Avionics Bus 1</output>
    <switch>
      <prop>/controls/circuit-breakers/avn-bus-1</prop>
    </switch>
    <switch>
      <prop>/controls/switches/master-avionics</prop>
    </switch>
  </connector>

  <connector>
    <input>Electrical Bus 2</input>
    <output>Avionics Bus 2</output>
    <switch>
      <prop>/controls/circuit-breakers/avn-bus-2</prop>
    </switch>
    <switch>
      <prop>/controls/switches/master-avionics</prop>
    </switch>
  </connector>

  <!-- connect bus 1 outputs -->

  <connector>
    <input>Electrical Bus 1</input>
    <output>Instrument Power</output>
    <switch>
      <prop>/controls/circuit-breakers/instr-ignition-switch</prop>
    </switch>
  </connector>

  <connector>
    <input>Electrical Bus 1</input>
    <output>Fuel Pump Power</output>
    <switch>
      <prop>/controls/engines/engine[0]/fuel-pump</prop>
    </switch>
  </connector>

 
  <!-- connect Essential/Crossfeed Bus outputs -->

  <connector>
    <input>Essential/Cross Feed Bus</input>
    <output>Annunciator Power</output>
    <switch>
      <prop>/controls/circuit-breakers/warn</prop>
    </switch>
  </connector>

  <!-- <connector> -->
  <!--   <input>Essential/Cross Feed Bus</input> -->
  <!--   <output>Master Switch Power</output> -->
  <!--   <switch>      <prop>/controls/circuit-breakers/alt-fld</prop>    </switch> -->
  <!-- </connector> -->

  <!-- connect Avionics Bus 1 outputs -->


  <connector>
    <input>Avionics Bus 1</input>
    <output>GPS Power</output>
    <switch>
      <prop>/controls/circuit-breakers/gps</prop>
    </switch>
  </connector>


  <connector>
    <input>Avionics Bus 1</input>
    <output>NavCom 1 Power</output>
    <switch>
      <prop>/controls/circuit-breakers/nav-com-1</prop>
    </switch>
  </connector>


  <connector>
    <input>Avionics Bus 1</input>
    <output>Audio Panel 1 Power</output>
    <switch>
      <prop>/controls/circuit-breakers/nav-com-audio-1</prop>
    </switch>
  </connector>

  <!-- Avionics Bus 2 -->

  <connector>
    <input>Avionics Bus 2</input>
    <output>NavCom 2 Power</output>
    <switch>
      <prop>/controls/circuit-breakers/nav-com-2</prop>
    </switch>
  </connector>

  <connector>
    <input>Avionics Bus 2</input>
    <output>Audio Panel 2 Power</output>
    <switch>
      <prop>/controls/circuit-breakers/nav-com-audio-2</prop>
    </switch>
  </connector>



</PropertyList>
